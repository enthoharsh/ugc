(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[14],{535:function(e,t,i){"use strict";i.r(t);var s=i(16),c=i(0),a=i(44),r=i(471),l=i(289),n=i(512),d=i(236),o=i(706),j=i(676),h=i(109),b=i(124),p=i(78),x=i(478),m=i(482),O=i(562),g=i(58),u=i(474),y=i(704),v=i(708),_=i(212),f=i(506),w=i.n(f),N=i(1);const{Title:A,Paragraph:C,Text:k}=r.a,{TextArea:P}=u.a;t.default=e=>{const[t,i]=Object(c.useState)(!1),[r]=y.a.useForm(),[u,f]=Object(c.useState)(null),[k,S]=Object(c.useState)(!0);let{id:F}=Object(a.useParams)();const B=Object(a.useHistory)();e.id&&(F=e.id);const D=()=>{i(!1),r.resetFields()};Object(c.useEffect)((()=>{F?(async e=>{try{S(!0);const t=await _.a.getSingle("Campaigns",e);t&&t.data?f(t.data):l.b.error("Failed to fetch campaign details")}catch(t){console.error("Error fetching campaign details:",t),l.b.error("Failed to load campaign data")}finally{S(!1)}})({_id:F}):e.id||B.goBack()}),[F,e.id]);const I=e=>{let{campaignInfo:t,value:i=[],onChange:s}=e;const c=[{title:"Gender",items:(null===t||void 0===t?void 0:t.genders)||[]},{title:"Age",items:(null===t||void 0===t?void 0:t.ages)||[]},{title:"Distinctives",items:(null===t||void 0===t?void 0:t.distinctives)||[]},{title:"Language",items:(null===t||void 0===t?void 0:t.languages)||[]},{title:"Accent",items:(null===t||void 0===t?void 0:t.accents)||[]},{title:"Including",items:(null===t||void 0===t?void 0:t.includings)||[]},{title:"Settings",items:(null===t||void 0===t?void 0:t.settings)||[]}];return Object(N.jsx)("div",{className:"space-y-6 creator-criteria-container",children:c.map((e=>e.items&&e.items.length>0&&Object(N.jsxs)("div",{className:"space-y-2",children:[Object(N.jsx)("div",{className:"text-sm font-semibold text-gray-700 mb-2 mt-2",children:e.title}),Object(N.jsx)("div",{className:"flex flex-wrap gap-2",children:e.items.map((e=>Object(N.jsx)(n.a.CheckableTag,{checked:i.includes(e),onChange:t=>((e,t)=>{const c=t?[...i,e]:i.filter((t=>t!==e));null===s||void 0===s||s(c)})(e,t),children:e},e)))})]},e.title)))})};return k&&!u?Object(N.jsx)("div",{className:"loading-container",children:Object(N.jsx)(d.a,{size:"large"})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(v.a,{title:"Submit Project Application",visible:t,onCancel:D,footer:null,width:"60%",children:Object(N.jsxs)(y.a,{layout:"vertical",form:r,onFinish:async e=>{try{const t=Object(s.a)(Object(s.a)({},e),{},{deadline_date:e.deadline_date?e.deadline_date.toDate():void 0,campaign_id:F,user_id:JSON.parse(localStorage.getItem("main_user"))._id}),c=await _.a.save("Applications",t);c.success?(l.b.success(c.message||"Application submitted successfully"),i(!1),r.resetFields()):(l.b.error(c.message||"Failed to submit application"),console.error(c.error))}catch(t){console.error("Application submission error:",t),l.b.error("Failed to submit application. Please try again.")}},children:[Object(N.jsx)(y.a.Item,{label:"Project Amount",name:"amount",rules:[{required:!0,message:"Please enter the project amount!"},{type:"number",min:1,message:"Amount must be greater than 0"}],children:Object(N.jsx)(o.a,{style:{width:"100%"},placeholder:"What is the price that you want to pitch for this project?",formatter:e=>"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,"")})}),Object(N.jsx)(y.a.Item,{label:"Cover Letter",name:"cover_letter",rules:[{required:!0,message:"Please write a cover letter!"},{min:50,message:"Cover letter should be at least 50 characters"}],children:Object(N.jsx)(P,{rows:4,placeholder:"Write your cover letter here. Explain why you're a good fit for this project and how you plan to approach it.",showCount:!0,maxLength:1e3})}),Object(N.jsx)(y.a.Item,{label:"Criteria You Meet",name:"criterias",rules:[{required:!0,message:"Please select at least one criteria you meet!"},{type:"array",min:1,message:"Please select at least one criteria"}],children:Object(N.jsx)(I,{campaignInfo:u})}),Object(N.jsx)(y.a.Item,{label:"Project Deadline (from you)",name:"deadline_date",rules:[{required:!0,message:"Please select a deadline!"}],children:Object(N.jsx)(j.a,{style:{width:"100%"},disabledDate:e=>e&&e<w()().endOf("day"),format:"YYYY-MM-DD"})}),Object(N.jsx)("p",{children:Object(N.jsx)("i",{children:"We will include your portfolio/profile and other details added on your profile by default with this application."})}),Object(N.jsxs)(y.a.Item,{children:[Object(N.jsx)(h.a,{type:"primary",htmlType:"submit",className:"primary-solid-button",style:{marginRight:8},children:"Submit Application"}),Object(N.jsx)(h.a,{onClick:D,children:"Cancel"})]})]})}),u?Object(N.jsxs)("div",{className:"campaign-container",children:[Object(N.jsx)(A,{level:2,children:"Project Details"}),Object(N.jsxs)("div",{className:"campaign-header",children:[Object(N.jsxs)("div",{className:"back-button",style:{fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",color:"black"},onClick:()=>B.goBack(),children:[Object(N.jsx)(m.a,{style:{marginRight:"15px"}}),"Back"]}),Object(N.jsx)("div",{style:{display:"flex",gap:"8px",marginLeft:"auto"},children:window.location.href.includes("creator")&&Object(N.jsx)(h.a,{className:"primary-color-btn",onClick:()=>{i(!0)},children:"Submit Application"})})]}),Object(N.jsxs)(b.a,{gutter:24,children:[Object(N.jsx)(p.a,{span:16,children:Object(N.jsxs)(x.a,{className:"main-card",children:[Object(N.jsx)(A,{level:3,className:"campaign-title",children:u.campaign_name||"Untitled Campaign"}),Object(N.jsxs)("div",{className:"mb-3",style:{display:"flex",gap:"10px"},children:[Object(N.jsx)("div",{style:{width:"20%"},children:Object(N.jsx)("strong",{children:"Product"})}),Object(N.jsx)("div",{style:{width:"80%"},children:u.product_name||"Not specified"})]}),Object(N.jsxs)("div",{className:"mb-3",style:{display:"flex",gap:"10px"},children:[Object(N.jsx)("div",{style:{width:"20%"},children:Object(N.jsx)("strong",{children:"Brand"})}),Object(N.jsx)("div",{style:{width:"80%"},children:u.brand_name||"Not specified"})]}),Object(N.jsxs)("div",{className:"mb-3",style:{display:"flex",gap:"10px"},children:[Object(N.jsx)("div",{style:{width:"20%"},children:Object(N.jsx)("strong",{children:"Category"})}),Object(N.jsx)("div",{style:{width:"80%"},children:Array.isArray(u.categories)&&u.categories.length>0?u.categories.join(", "):"Not specified"})]}),Object(N.jsx)("div",{className:"mb-3",style:{display:"flex",gap:"10px"},children:Object(N.jsx)("div",{style:{width:"20%"},children:Object(N.jsx)("strong",{children:"Creator Criteria"})})}),Object(N.jsx)("div",{className:"criteria-tags",children:[...u.genders||[],...u.ages||[],...u.distinctives||[],...u.languages||[],...u.accents||[],...u.includings||[],...u.settings||[]].map(((e,t)=>e&&Object(N.jsx)("span",{className:"mr-2 status-badge status-criteria mb-2",children:e},t)))}),Object(N.jsx)(C,{children:Object(N.jsx)("strong",{children:"What brand wants to see in the video:"})}),Object(N.jsx)(C,{children:u.what_do_you_want_to_see_in_the_video||"Not specified"}),Object(N.jsx)(C,{children:Object(N.jsx)("strong",{children:"What brand wants creators to say:"})}),Object(N.jsx)(C,{children:u.what_do_you_want_them_to_say||"Not specified"}),Object(N.jsx)(C,{children:Object(N.jsx)("strong",{children:"Call to Action:"})}),Object(N.jsx)(C,{children:u.what_is_the_call_to_action||"Not specified"}),u.any_other_specific_criteria&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C,{children:Object(N.jsx)("strong",{children:"Other Criteria:"})}),Object(N.jsx)(C,{children:u.any_other_specific_criteria})]}),Object(N.jsxs)(C,{children:[Object(N.jsx)("strong",{children:"Brand Links:"})," ",Array.isArray(u.brand_website_social_platforms)&&u.brand_website_social_platforms.filter(Boolean).join(", ")||"None provided"]}),Object(N.jsxs)(C,{children:[Object(N.jsx)("strong",{children:"Product Gifted:"})," ",u.will_the_product_be_gifted_to_the_creator?"Yes":"No"]}),Object(N.jsxs)(C,{children:[Object(N.jsx)("strong",{children:"Shipping Required:"})," ",u.do_you_need_to_ship_your_product_to_the_creators?"Yes":"No"]}),u.upload_script_or_other_assets&&u.upload_script_or_other_assets.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C,{children:Object(N.jsx)("strong",{children:"Uploaded Assets:"})}),Object(N.jsx)("div",{className:"uploaded-assets",children:u.upload_script_or_other_assets.map(((e,t)=>Object(N.jsxs)("div",{className:"asset-item",children:[Object(N.jsx)(O.a,{}),Object(N.jsx)("a",{href:null===e||void 0===e?void 0:e.url,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"5px"},children:(null===e||void 0===e?void 0:e.name)||"Asset ".concat(t+1)})]},t)))})]})]})}),Object(N.jsx)(p.a,{span:8,children:Object(N.jsxs)(x.a,{className:"side-card",children:[Object(N.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(N.jsx)("div",{children:Object(N.jsx)(g.c,{})}),Object(N.jsx)("div",{children:Object(N.jsxs)(C,{children:[Object(N.jsx)("div",{children:"Date Posted:"}),Object(N.jsx)("strong",{children:(e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})(u.createdAt)})]})})]}),Object(N.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(N.jsx)("div",{children:Object(N.jsx)(g.a,{})}),Object(N.jsx)("div",{children:Object(N.jsxs)(C,{children:[Object(N.jsx)("div",{children:"Type:"}),Object(N.jsx)("strong",{children:u.video_type||"Not specified"})]})})]}),Object(N.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(N.jsx)("div",{children:Object(N.jsx)(g.t,{})}),Object(N.jsx)("div",{children:Object(N.jsxs)(C,{children:[Object(N.jsx)("div",{children:"Videos Required:"}),Object(N.jsx)("strong",{children:(e=>{if(!e)return"Not specified";const t=[];return Object.entries(e).forEach((e=>{let[i,s]=e;s.quantity&&s.quantity>0&&t.push("".concat(i,"s \xd7 ").concat(s.quantity))})),t.length>0?t.join(", "):"None"})(u.videos_from_creator)})]})})]}),Object(N.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(N.jsx)("div",{children:Object(N.jsx)(g.l,{})}),Object(N.jsx)("div",{children:Object(N.jsxs)(C,{children:[Object(N.jsx)("div",{children:"Platform & Ratio:"}),Object(N.jsxs)("strong",{children:[Array.isArray(u.what_platforms_is_it_for)?u.what_platforms_is_it_for.join(", "):"Not specified",u.video_aspect_ratio?". Aspect ratio: ".concat(u.video_aspect_ratio):""]})]})})]}),Object(N.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(N.jsx)("div",{children:Object(N.jsx)(g.b,{})}),Object(N.jsx)("div",{children:Object(N.jsxs)(C,{children:[Object(N.jsx)("div",{children:"Budget:"}),Object(N.jsxs)("strong",{children:["$",u.campaign_budget||"Not specified"]})]})})]})]})})]})]}):Object(N.jsxs)("div",{className:"campaign-not-found",children:[Object(N.jsx)(A,{level:4,children:"Campaign not found or you don't have permission to view it."}),Object(N.jsx)(h.a,{type:"primary",onClick:()=>B.goBack(),children:"Go Back"})]})]})}}}]);
//# sourceMappingURL=14.7ddeb861.chunk.js.map