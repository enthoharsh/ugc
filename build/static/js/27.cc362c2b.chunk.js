(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[27],{501:function(e,t,r){var a=r(214);e.exports=function(e,t){return a(e,t)}},690:function(e,t,r){"use strict";r.r(t);var a=r(0),i=r(82),s=r(289),c=r(512),l=r(511),n=r(109),d=r(474),o=r(703),j=r(708),u=r(293),b=r(182),h=r(212),x=r(1);const{Option:O}=i.a;t.default=()=>{const[e,t]=Object(a.useState)([]),[r,f]=Object(a.useState)(!0),[m,p]=Object(a.useState)(!1),[v,y]=Object(a.useState)(null),[g,C]=Object(a.useState)(""),[w,k]=Object(a.useState)("All"),S=async()=>{f(!0);try{const e=await h.a.get("Users",{});e.data&&e.data.data&&t(e.data.data)}catch(e){s.b.error("Failed to fetch users"),console.error("Error fetching users:",e)}finally{f(!1)}};Object(a.useEffect)((()=>{S()}),[]);const A=async e=>{try{if(!v)return;(await h.a.update("Users",{_id:v._id,verified:e},v._id)).success?(s.b.success("User ".concat(e?"verified":"unverified"," successfully")),S()):s.b.error("Failed to update user verification status")}catch(t){s.b.error("An error occurred"),console.error("Error updating user:",t)}finally{p(!1)}},U=e.filter((e=>{var t,r;const a=""===g||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(g.toLowerCase())),i="All"===w||e.role===w;return a&&i})),E=[{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>Object(x.jsxs)("span",{children:[e," ",t.last_name||""]})},{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role",render:e=>Object(x.jsx)(c.a,{color:"Brand"===e?"blue":"Creator"===e?"green":"purple",children:e})},{title:"Status",key:"verified",dataIndex:"verified",render:e=>Object(x.jsx)(c.a,{color:e?"green":"red",children:e?"Verified":"Unverified"})},{title:"Action",key:"action",render:(e,t)=>Object(x.jsx)(l.b,{size:"middle",children:Object(x.jsx)(n.a,{type:"primary",icon:Object(x.jsx)(u.a,{}),size:"small",onClick:()=>(y(t),void p(!0)),children:"Edit"})})}];return Object(x.jsxs)("div",{className:"admin-users",children:[Object(x.jsx)("h2",{children:"User Management"}),Object(x.jsxs)("div",{style:{marginBottom:16,display:"flex",gap:16},children:[Object(x.jsx)(d.a,{placeholder:"Search by name or email",prefix:Object(x.jsx)(b.a,{}),value:g,onChange:e=>C(e.target.value),style:{width:300}}),Object(x.jsxs)(i.a,{defaultValue:"All",style:{width:200},onChange:e=>k(e),children:[Object(x.jsx)(O,{value:"All",children:"All Roles"}),Object(x.jsx)(O,{value:"Brand",children:"Brand"}),Object(x.jsx)(O,{value:"Creator",children:"Creator"}),Object(x.jsx)(O,{value:"Admin",children:"Admin"})]})]}),Object(x.jsx)(o.a,{columns:E,dataSource:U,rowKey:"_id",loading:r}),Object(x.jsx)(j.a,{title:"Edit User",visible:m,onCancel:()=>p(!1),footer:[Object(x.jsx)(n.a,{onClick:()=>p(!1),children:"Cancel"},"cancel")],children:v&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Name:"})," ",v.name," ",v.last_name||""]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Email:"})," ",v.email]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Role:"})," ",v.role]}),Object(x.jsxs)("div",{style:{marginTop:20},children:[Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:"Verification Status:"})}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(x.jsx)(n.a,{type:v.verified?"primary":"default",onClick:()=>A(!0),children:"Verify User"}),Object(x.jsx)(n.a,{type:v.verified?"default":"primary",onClick:()=>A(!1),danger:!0,children:"Unverify User"})]})]})]})})]})}}}]);
//# sourceMappingURL=27.cc362c2b.chunk.js.map