(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{694:function(e,t,a){"use strict";a.r(t);var i=a(16),s=a(0),l=a(471),c=a(474),o=a(289),r=a(511),n=a(707),d=a(109),j=a(473),b=a(480),u=a(478),p=a(561),h=a(720),m=a(721),O=a(293),v=a(58),x=a(212),f=a(536),g=a.n(f),y=a(505),w=a(1);const{Title:k,Text:_}=l.a,{TextArea:N}=c.a;t.default=()=>{const[e,t]=Object(s.useState)(!1),[a,l]=Object(s.useState)(null),[f,S]=Object(s.useState)(!0),[C,D]=Object(s.useState)([]),F=JSON.parse(localStorage.getItem("main_user")),L="Creator"===F.role,{id:P}=Object(y.useParams)(),[R,U]=Object(s.useState)({cover_image:"",available:!0,bio:"",social_links:[{platform:"facebook",url:""},{platform:"instagram",url:""},{platform:"linkedin",url:""},{platform:"twitter",url:""}],videos:[]});Object(s.useEffect)((()=>{A()}),[]);const A=async()=>{try{const a=await x.a.get("Portfolios",{tabFilter:{user_id:L?F._id:P}});if(console.log(a),a.data.data.length>0){var e,t;const i=a.data.data[0];console.log(i),l(i),U({cover_image:i.cover_image||"",available:null===(e=i.available)||void 0===e||e,bio:i.bio||"",social_links:(null===(t=i.social_links)||void 0===t?void 0:t.length)?i.social_links:[{platform:"facebook",url:""},{platform:"instagram",url:""},{platform:"linkedin",url:""},{platform:"twitter",url:""}],videos:i.videos||[]})}S(!1)}catch(a){o.b.error("Failed to fetch portfolio"),S(!1)}};return Object(w.jsxs)("div",{className:"profile-card",children:[Object(w.jsxs)("div",{className:"background-image",style:{background:"url(".concat(R.cover_image||"https://images.unsplash.com/photo-1736254329261-5595925b7e25?q=80&w=2874&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",")"),position:"relative",backgroundPosition:"center",backgroundSize:"cover"},children:[Object(w.jsx)("div",{className:"overlay"}),e&&Object(w.jsx)(n.a,{customRequest:async e=>{if("uploading"===e.file.status)return;const t=new FileReader;t.readAsDataURL(e.file),t.onload=()=>{x.a.uploadFile("Users",{file:t.result,extension:e.file.name.split(".").pop()}).then((t=>{t.success&&(U((e=>Object(i.a)(Object(i.a)({},e),{},{cover_image:t.url}))),e.onSuccess())}))}},showUploadList:!1,accept:"image/*",children:Object(w.jsx)(d.a,{icon:Object(w.jsx)(p.a,{}),style:{position:"absolute",bottom:20,right:20},children:"Change Cover"})})]}),Object(w.jsxs)("div",{className:"content",children:[Object(w.jsxs)("div",{className:"profile-header",children:[Object(w.jsx)(j.a,{size:100,style:{border:"1px solid white"},src:F.profile_picture}),Object(w.jsxs)("div",{className:"profile-info",children:[Object(w.jsx)(k,{style:{color:"white",marginBottom:0},level:3,children:F.name}),Object(w.jsx)(_,{style:{color:"white",marginBottom:"6px"},children:F.country})]})]}),Object(w.jsxs)("div",{className:"availability",style:{marginBottom:"20px"},children:[Object(w.jsx)(k,{style:{margin:0},level:4,children:e?"Are you available for new projects?":"Is available for new projects?"}),e?Object(w.jsx)(b.a,{checked:R.available,onChange:e=>U((t=>Object(i.a)(Object(i.a)({},t),{},{available:e})))}):Object(w.jsx)("img",{src:R.available?"/img/tick.png":"/img/cross.png",alt:"availability",style:{width:20}})]}),Object(w.jsxs)("div",{style:{display:"flex",gap:"28px"},children:[Object(w.jsxs)("div",{className:"bio-section",style:{width:"50%"},children:[Object(w.jsx)(k,{level:4,children:"Creator Bio"}),e?Object(w.jsx)(N,{value:R.bio,onChange:e=>U((t=>Object(i.a)(Object(i.a)({},t),{},{bio:e.target.value}))),rows:6,placeholder:"Enter your bio..."}):Object(w.jsx)(_,{children:R.bio})]}),Object(w.jsxs)("div",{className:"social-links",children:[Object(w.jsx)(k,{level:4,children:"Social Links"}),Object(w.jsx)("div",{title:"Social Links",className:"social-card",children:(()=>{const t={facebook:Object(w.jsx)(v.g,{}),instagram:Object(w.jsx)(v.j,{}),linkedin:Object(w.jsx)(v.k,{}),twitter:Object(w.jsx)(v.p,{})};return Object(w.jsx)(r.b,{direction:"vertical",size:"large",style:{width:"100%"},children:R.social_links.map(((a,s)=>e?Object(w.jsx)(c.a,{prefix:t[a.platform],value:a.url,onChange:e=>{const t=[...R.social_links];t[s].url=e.target.value,U((e=>Object(i.a)(Object(i.a)({},e),{},{social_links:t})))},placeholder:"Enter your ".concat(a.platform," URL")},s):Object(w.jsxs)("a",{href:a.url,className:"social-link",target:"_blank",children:[t[a.platform]," ",a.url||"https://www.".concat(a.platform,".com/name")]},s)))})})()})]})]})]}),Object(w.jsx)("div",{className:"portfolio-grid",style:{padding:"20px"},children:R.videos.map(((t,a)=>Object(w.jsxs)(u.a,{className:"portfolio-item",children:[Object(w.jsx)("div",{className:"video-container",children:Object(w.jsx)("video",{src:t.url,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"}})}),Object(w.jsxs)("div",{className:"video-info",children:[e?Object(w.jsx)(c.a,{value:t.title,onChange:e=>{const t=[...R.videos];t[a].title=e.target.value,U((e=>Object(i.a)(Object(i.a)({},e),{},{videos:t})))}}):Object(w.jsx)("h5",{children:t.title}),Object(w.jsx)("p",{children:new Date(t.date).toLocaleDateString()})]})]},a)))}),Object(w.jsx)("div",{style:{padding:20,width:"100%"},children:e&&Object(w.jsxs)(g.a,{customRequest:async e=>{if("uploading"===e.file.status)return;const t=new FileReader;t.readAsDataURL(e.file),t.onload=()=>{x.a.uploadFile("Users",{file:t.result,extension:e.file.name.split(".").pop()}).then((t=>{t.success&&U((a=>Object(i.a)(Object(i.a)({},a),{},{videos:[...a.videos,{url:t.url,title:e.file.name,date:(new Date).toISOString()}]})))}))}},showUploadList:!1,accept:"video/*",children:[Object(w.jsx)("p",{className:"ant-upload-drag-icon",children:Object(w.jsx)(h.a,{})}),Object(w.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),Object(w.jsx)("p",{className:"ant-upload-hint",children:"Please upload your videos here"})]})}),L&&Object(w.jsx)(d.a,{type:"primary",icon:e?Object(w.jsx)(m.a,{}):Object(w.jsx)(O.a,{}),style:{position:"absolute",top:20,right:20},onClick:e?async()=>{try{const e=Object(i.a)({user_id:F._id},R);a?await x.a.update("Portfolios",Object(i.a)({_id:a._id},e),a._id):await x.a.save("Portfolios",e),o.b.success("Portfolio saved successfully"),t(!1),A()}catch(e){o.b.error("Failed to save portfolio")}}:()=>t(!0),children:e?"Save":"Edit"})]})}}}]);
//# sourceMappingURL=15.4f87c98e.chunk.js.map