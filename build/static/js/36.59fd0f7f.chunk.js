(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[36],{695:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a(471),o=a(236),c=a(124),n=a(78),r=a(478),l=a(705),d=a(109),p=a(481),j=a(473),b=a(512),x=a(123),m=a(503),y=a(678),h=a(560),u=a(680),O=a(722),g=a(218),v=a(265),f=a(723),S=a(212),k=a(1);const{Title:C,Text:_}=i.a;t.default=()=>{var e,t,a;const[i,w]=Object(s.useState)(!0),[P,B]=Object(s.useState)([]),[I,z]=Object(s.useState)([]),[A,N]=Object(s.useState)([]),[R,F]=Object(s.useState)({}),[T,M]=Object(s.useState)({totalEarnings:0,activeContracts:0,completedProjects:0,pendingPayouts:0}),U=JSON.parse(localStorage.getItem("main_user")||'{"name":"Creator"}'),E="#fd5c02",L="#FC52E4",D="#4CAF50",V="#faad14",W="#2C3E50",$="#8392A5",H="#F8FAFC",J=e=>{window.location.href=e};Object(s.useEffect)((()=>{(async()=>{w(!0);try{var e,t,a,s;const i=await S.a.get("Contracts",{tabFilter:{user_id:U._id}}),o=await S.a.get("Applications",{tabFilter:{user_id:U._id}}),c=await S.a.get("Campaigns",{limit:100}),n=await S.a.get("Portfolios",{tabFilter:{user_id:U._id}});if(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.data){const e=i.data.data||[];B(e);const t=e.reduce(((e,t)=>e+(t.amount||0)),0),a=e.filter((e=>"In Progress"===e.status)).length,s=e.filter((e=>"Completed"===e.status)).length,o=e.filter((e=>"Completed"===e.status&&"Paid"!==e.payment_status)).reduce(((e,t)=>e+(t.amount||0)),0);M({totalEarnings:t,activeContracts:a,completedProjects:s,pendingPayouts:o})}if((null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.data)&&z(o.data.data||[]),null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.data){const e=I.map((e=>e.campaign_id)),t=c.data.data.filter((t=>!e.includes(t._id)));N(t)}(null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.data)&&n.data.data.length>0&&F(n.data.data[0])}catch(i){console.error("Error fetching dashboard data:",i)}finally{w(!1)}})()}),[U._id]);const Y=e=>e?new Date(e).toLocaleDateString():"N/A";if(i)return Object(k.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:Object(k.jsx)(o.a,{size:"large"})});const Q=(()=>{if(!R||0===Object.keys(R).length)return 0;let e=0,t=0;return["bio","gender","age","country","available","social_links","portfolio_links","rates","videos"].forEach((a=>{t++,"social_links"===a||"portfolio_links"===a||"rates"===a||"videos"===a?R[a]&&R[a].length>0&&e++:R[a]&&e++})),Math.round(e/t*100)})(),q=(()=>{if(!I||0===I.length)return 0;const e=I.filter((e=>"Hired"===e.status)).length;return Math.round(e/I.length*100)})();return Object(k.jsxs)("div",{className:"creator-dashboard",children:[Object(k.jsxs)("div",{className:"welcome-section",style:{marginBottom:24,background:H,padding:"24px",borderRadius:"8px"},children:[Object(k.jsxs)(C,{level:3,style:{color:W,marginBottom:"8px"},children:["Welcome back, ",U.name,"!"]}),Object(k.jsx)(_,{type:"secondary",children:"Here's an overview of your creator dashboard"})]}),Object(k.jsxs)(c.a,{gutter:[24,24],children:[Object(k.jsx)(n.a,{xs:24,sm:12,md:6,children:Object(k.jsxs)(r.a,{hoverable:!0,className:"stat-card",bodyStyle:{padding:"24px"},children:[Object(k.jsx)(l.a,{title:Object(k.jsx)("span",{style:{color:$},children:"Total Earnings"}),value:T.totalEarnings,precision:2,valueStyle:{color:L,fontSize:"24px"},prefix:Object(k.jsx)(h.a,{}),suffix:"USD"}),P.length>0&&Object(k.jsxs)("div",{style:{marginTop:"12px",display:"flex",alignItems:"center"},children:[Object(k.jsx)(u.a,{style:{color:D,marginRight:"4px"}}),Object(k.jsxs)(_,{type:"secondary",style:{fontSize:"12px"},children:["Latest: $",(null===(e=P[0])||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.toFixed(2))||"0.00"," on ",Y(null===(a=P[0])||void 0===a?void 0:a.createdAt)]})]})]})}),Object(k.jsx)(n.a,{xs:24,sm:12,md:6,children:Object(k.jsxs)(r.a,{hoverable:!0,className:"stat-card",bodyStyle:{padding:"24px"},children:[Object(k.jsx)(l.a,{title:Object(k.jsx)("span",{style:{color:$},children:"Active Contracts"}),value:T.activeContracts,valueStyle:{color:E,fontSize:"24px"},prefix:Object(k.jsx)(O.a,{})}),Object(k.jsx)("div",{style:{marginTop:"12px"},children:Object(k.jsx)(d.a,{type:"link",style:{paddingLeft:0,fontSize:"12px"},onClick:()=>J("/app/creators/all-contracts"),children:"View all contracts"})})]})}),Object(k.jsx)(n.a,{xs:24,sm:12,md:6,children:Object(k.jsxs)(r.a,{hoverable:!0,className:"stat-card",bodyStyle:{padding:"24px"},children:[Object(k.jsx)(l.a,{title:Object(k.jsx)("span",{style:{color:$},children:"Completed Projects"}),value:T.completedProjects,valueStyle:{color:D,fontSize:"24px"},prefix:Object(k.jsx)(g.a,{})}),Object(k.jsxs)("div",{style:{marginTop:"12px",display:"flex",alignItems:"center"},children:[Object(k.jsx)(u.a,{style:{color:D,marginRight:"4px"}}),Object(k.jsx)(_,{type:"secondary",style:{fontSize:"12px"},children:T.completedProjects>0?"".concat(Math.round(T.completedProjects/(T.completedProjects+T.activeContracts)*100),"% completion rate"):"No completed projects yet"})]})]})}),Object(k.jsx)(n.a,{xs:24,sm:12,md:6,children:Object(k.jsxs)(r.a,{hoverable:!0,className:"stat-card",bodyStyle:{padding:"24px"},children:[Object(k.jsx)(l.a,{title:Object(k.jsx)("span",{style:{color:$},children:"Pending Payouts"}),value:T.pendingPayouts,precision:2,valueStyle:{color:V,fontSize:"24px"},prefix:Object(k.jsx)(h.a,{}),suffix:"USD"}),Object(k.jsx)("div",{style:{marginTop:"12px"},children:T.pendingPayouts>0?Object(k.jsx)(_,{type:"secondary",style:{fontSize:"12px"},children:"Payments in processing"}):Object(k.jsx)(_,{type:"secondary",style:{fontSize:"12px"},children:"No pending payouts"})})]})})]}),Object(k.jsxs)(c.a,{gutter:[24,24],style:{marginTop:24},children:[Object(k.jsxs)(n.a,{xs:24,md:16,children:[Object(k.jsx)(r.a,{title:Object(k.jsx)("span",{style:{color:W},children:"Recent Contracts"}),style:{marginBottom:24,borderRadius:"8px"},extra:Object(k.jsx)(d.a,{type:"primary",ghost:!0,onClick:()=>J("/app/creators/all-contracts"),children:"View All"}),bodyStyle:{padding:P.length?"0":"24px"},children:P.length>0?Object(k.jsx)(p.b,{itemLayout:"horizontal",dataSource:P.slice(0,5),renderItem:e=>{var t,a,s,i;return Object(k.jsx)(p.b.Item,{style:{padding:"16px 24px"},actions:[Object(k.jsx)(d.a,{type:"link",icon:Object(k.jsx)(v.a,{}),onClick:()=>J("/app/creators/view-contract/".concat(e._id)),children:"View"})],children:Object(k.jsx)(p.b.Item.Meta,{avatar:Object(k.jsx)(j.a,{src:null===(t=e.campaign)||void 0===t?void 0:t.product_brand_logo,style:{border:"2px solid #f0f0f0"}}),title:Object(k.jsx)("span",{style:{fontWeight:500},children:(null===(a=e.campaign)||void 0===a?void 0:a.campaign_name)||"Unnamed Campaign"}),description:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{style:{marginBottom:"4px"},children:["Brand: ",(null===(s=e.campaign)||void 0===s?void 0:s.brand_name)||"Unknown"]}),Object(k.jsxs)("div",{style:{marginBottom:"4px"},children:["Amount: ",Object(k.jsxs)("span",{style:{fontWeight:500},children:["$",(null===(i=e.amount)||void 0===i?void 0:i.toFixed(2))||"0.00"]})]}),Object(k.jsx)(b.a,{color:"Completed"===e.status?"green":"In Progress"===e.status?"blue":"default",children:e.status||"Unknown"}),e.payment_status&&Object(k.jsx)(b.a,{color:"Paid"===e.payment_status?"green":"Pending Release"===e.payment_status?"orange":"gold",style:{marginLeft:"5px"},children:e.payment_status})]})})})}}):Object(k.jsx)(x.a,{description:Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"No contracts found"}),Object(k.jsx)(d.a,{type:"primary",onClick:()=>J("/app/creators/marketplace"),children:"Browse Marketplace"})]})})}),Object(k.jsx)(r.a,{title:Object(k.jsx)("span",{style:{color:W},children:"Your Applications"}),style:{borderRadius:"8px"},extra:Object(k.jsx)(d.a,{type:"primary",ghost:!0,onClick:()=>J("/app/creators/marketplace"),children:"Browse More"}),bodyStyle:{padding:I.length?"0":"24px"},children:I.length>0?Object(k.jsx)(p.b,{itemLayout:"horizontal",dataSource:I.slice(0,5),renderItem:e=>{var t,a,s,i;return Object(k.jsx)(p.b.Item,{style:{padding:"16px 24px"},actions:["Hired"===e.status?Object(k.jsx)(d.a,{type:"link",onClick:()=>{const t=P.find((t=>t.application_id===e._id));J(t?"/app/creators/view-contract/".concat(t._id):"/app/creators/all-contracts")},children:"View Contract"}):Object(k.jsx)(b.a,{color:"Shortlisted"===e.status?"blue":"Rejected"===e.status?"red":"orange",children:e.status})],children:Object(k.jsx)(p.b.Item.Meta,{avatar:Object(k.jsx)(j.a,{src:null===(t=e.campaign)||void 0===t?void 0:t.product_brand_logo,style:{border:"2px solid #f0f0f0"}}),title:Object(k.jsx)("span",{style:{fontWeight:500},children:(null===(a=e.campaign)||void 0===a?void 0:a.campaign_name)||"Unnamed Campaign"}),description:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{style:{marginBottom:"4px"},children:["Brand: ",(null===(s=e.campaign)||void 0===s?void 0:s.brand_name)||"Unknown"]}),Object(k.jsxs)("div",{style:{marginBottom:"4px"},children:["Your Quote: ",Object(k.jsxs)("span",{style:{fontWeight:500},children:["$",(null===(i=e.amount)||void 0===i?void 0:i.toFixed(2))||"0.00"]})]}),Object(k.jsxs)("div",{children:["Applied on: ",Y(e.createdAt)]})]})})})}}):Object(k.jsx)(x.a,{description:Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"No applications submitted yet"}),Object(k.jsx)(d.a,{type:"primary",onClick:()=>J("/app/creators/marketplace"),children:"Browse Opportunities"})]})})})]}),Object(k.jsxs)(n.a,{xs:24,md:8,children:[Object(k.jsxs)(r.a,{title:Object(k.jsx)("span",{style:{color:W},children:"Profile Stats"}),style:{marginBottom:24,borderRadius:"8px"},bodyStyle:{padding:"24px"},children:[Object(k.jsxs)("div",{style:{marginBottom:24},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[Object(k.jsx)(_,{children:"Portfolio Completeness"}),Object(k.jsxs)(_,{strong:!0,children:[Q,"%"]})]}),Object(k.jsx)(m.a,{percent:Q,strokeColor:L}),Object(k.jsx)("div",{style:{marginTop:12},children:Object(k.jsx)(d.a,{type:"primary",ghost:!0,size:"small",onClick:()=>J("/app/creators/portfolio"),children:"Complete your portfolio"})})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[Object(k.jsx)(_,{children:"Proposal Success Rate"}),Object(k.jsxs)(_,{strong:!0,children:[q,"%"]})]}),Object(k.jsx)(m.a,{percent:q,strokeColor:E}),Object(k.jsx)("div",{style:{marginTop:12},children:Object(k.jsx)(_,{type:"secondary",style:{fontSize:"12px"},children:"Improve your proposal success rate by applying to more relevant projects."})})]})]}),Object(k.jsx)(r.a,{title:Object(k.jsx)("span",{style:{color:W},children:"Portfolio Setup"}),style:{marginBottom:24,borderRadius:"8px"},bodyStyle:{padding:"24px"},children:Object(k.jsx)(p.b,{itemLayout:"horizontal",dataSource:[{title:"Upload Videos",description:"Showcase your best work to brands",completed:R.videos&&R.videos.length>0,action:()=>J("/app/creators/portfolio")},{title:"Set Your Rates",description:"Define your pricing structure",completed:R.rates&&R.rates.length>0,action:()=>J("/app/creators/portfolio")},{title:"Add Social Links",description:"Connect your social media profiles",completed:R.social_links&&R.social_links.length>0,action:()=>J("/app/creators/portfolio")},{title:"Complete Bio",description:"Tell brands about yourself",completed:!!R.bio,action:()=>J("/app/creators/portfolio")}],renderItem:e=>Object(k.jsx)(p.b.Item,{actions:[e.completed?Object(k.jsx)(g.a,{style:{color:D,fontSize:"20px"}}):Object(k.jsx)(d.a,{type:"link",onClick:e.action,children:"Complete"})],children:Object(k.jsx)(p.b.Item.Meta,{title:e.title,description:e.description})})})}),Object(k.jsx)(r.a,{title:Object(k.jsx)("span",{style:{color:W},children:"Marketplace Opportunities"}),style:{borderRadius:"8px"},extra:Object(k.jsx)(d.a,{type:"primary",ghost:!0,onClick:()=>J("/app/creators/marketplace"),children:"Browse All"}),bodyStyle:{padding:A.length?"0":"24px"},children:A.length>0?Object(k.jsx)(p.b,{itemLayout:"horizontal",dataSource:A.slice(0,3),renderItem:e=>Object(k.jsx)(p.b.Item,{style:{padding:"16px 24px"},actions:[Object(k.jsx)(d.a,{type:"link",size:"small",onClick:()=>J("/app/creators/marketplace/view-project/".concat(e._id)),children:"Details"})],children:Object(k.jsx)(p.b.Item.Meta,{avatar:Object(k.jsx)(y.a,{count:Object(k.jsx)(f.a,{style:{color:"#faad14"}}),offset:[-5,5],children:Object(k.jsx)(j.a,{src:e.product_brand_logo,style:{border:"2px solid #f0f0f0"}})}),title:Object(k.jsx)("span",{style:{fontWeight:500},children:e.campaign_name||"Unnamed Campaign"}),description:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{style:{marginBottom:"4px"},children:["Brand: ",e.brand_name||"Unknown"]}),Object(k.jsxs)("div",{children:[Object(k.jsx)(b.a,{color:"blue",children:e.video_type||"Video"}),e.campaign_budget&&Object(k.jsxs)(b.a,{color:"green",children:["$",e.campaign_budget]})]})]})})})}):Object(k.jsx)(x.a,{description:"No opportunities found"})})]})]})]})}}}]);
//# sourceMappingURL=36.59fd0f7f.chunk.js.map